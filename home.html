<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome My Love</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Load Bible verses first -->
  <script src="bible-verses.js"></script>
</head>
<body>
  <div class="music-toggle" id="musicControls">
    <span id="muteBtn">üîä</span>
    <input type="range" min="0" max="1" step="0.1" value="0.3" class="volume-control" id="volumeControl">
  </div>

  <div class="audio-fallback">
    Click anywhere to enable music
  </div>

  <div class="hamburger menu-btn" onclick="toggleMenu()">
    <span></span><span></span><span></span>
  </div>

  <nav class="sidebar" id="menu">
    <a href="#">Love Letter</a>
    <a href="#">Photo Gallery</a>
    <a href="#">Countdown</a>
    <a href="#">Reasons I Love You</a>
    <a href="#">Quiz</a>
    <a href="#">To-Do List</a>
    <a href="#">Secret Surprise</a>
    <a href="https://formsubmit.co/YOUR_EMAIL_HERE" target="_blank">üíå Request Something</a>
    
    <div class="time-together">
      <div>Time Together:</div>
      <div id="years">0</div> years<br>
      <div id="months">0</div> months<br>
      <div id="weeks">0</div> weeks<br>
      <div id="days">0</div> days<br>
      <div id="hours">0</div> hours<br>
      <div id="minutes">0</div> minutes<br>
      <div id="seconds">0</div> seconds
    </div>
  </nav>

  <h1>Hello My baby Ana√Øs</h1>
  <p>Every time I see you I give Thanks to God‚ù§Ô∏è</p>

  <div class="bible-verse">
    <p id="verse-text"></p>
    <p id="verse-reference"></p>
  </div>

  <audio id="bgMusic" loop>
    <source src="music/song.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Set anniversary date to April 3, 2025 (months are 0-indexed)
      const anniversary = new Date(2025, 3, 3);
      
      // Audio controls
      const bgMusic = document.getElementById('bgMusic');
      const muteBtn = document.getElementById('muteBtn');
      const volumeControl = document.getElementById('volumeControl');
      let isMuted = false;
      
      // Set initial volume
      bgMusic.volume = volumeControl.value;
      
      // Mute toggle
      muteBtn.addEventListener('click', function() {
        isMuted = !isMuted;
        bgMusic.muted = isMuted;
        muteBtn.textContent = isMuted ? 'üîá' : 'üîä';
      });

      // Volume control
      volumeControl.addEventListener('input', function() {
        bgMusic.volume = this.value;
      });

      // Check if audio is supported
      if (typeof bgMusic.play === 'function') {
        const playPromise = bgMusic.play();
        
        if (playPromise !== undefined) {
          playPromise.catch(error => {
            console.log('Autoplay prevented:', error);
            document.querySelector('.audio-fallback').style.display = 'block';
            document.body.addEventListener('click', function enableAudio() {
              bgMusic.play();
              document.body.removeEventListener('click', enableAudio);
              document.querySelector('.audio-fallback').style.display = 'none';
            });
          });
        }
      }

      // Calculate time together
      function updateTimeTogether() {
        const now = new Date();
        const diff = now - anniversary;
        
        const seconds = Math.floor(diff / 1000);
        const minutes = Math.floor(seconds / 60);
        const hours = Math.floor(minutes / 60);
        const days = Math.floor(hours / 24);
        const weeks = Math.floor(days / 7);
        const months = now.getMonth() - anniversary.getMonth() + 
                      (12 * (now.getFullYear() - anniversary.getFullYear()));
        const years = now.getFullYear() - anniversary.getFullYear();
        
        document.getElementById('years').textContent = years;
        document.getElementById('months').textContent = months;
        document.getElementById('weeks').textContent = weeks;
        document.getElementById('days').textContent = days;
        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
        document.getElementById('seconds').textContent = seconds;
      }
      
      // Update time every second
      updateTimeTogether();
      setInterval(updateTimeTogether, 1000);
      
      // Toggle menu
      function toggleMenu() {
        document.getElementById('menu').classList.toggle('active');
      }
      document.querySelector('.menu-btn').addEventListener('click', toggleMenu);

      // Display random verse (using verses from bible-verses.js)
      function displayRandomVerse() {
        const randomIndex = Math.floor(Math.random() * window.bibleVerses.length);
        const verse = window.bibleVerses[randomIndex];
        
        document.getElementById('verse-text').textContent = `"${verse.text}"`;
        document.getElementById('verse-reference').textContent = verse.reference;
      }

      // Display random verse on page load
      displayRandomVerse();

      // Also display new verse when coming back from another page
      window.addEventListener('pageshow', displayRandomVerse);
    });
  </script>
</body>
</html>
